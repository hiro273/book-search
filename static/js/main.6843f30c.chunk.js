(this.webpackJsonpbooks=this.webpackJsonpbooks||[]).push([[0],{19:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n.n(c),a=n(8),i=n.n(a),s=n(14),r=n(4),u=n(2),l=(n(19),n(0)),j=function(t){var e=t.book,n=e.title,c=e.author,o=e.memo;return Object(l.jsxs)("div",{className:"book-row",children:[Object(l.jsx)("div",{className:"title",title:n,children:n}),Object(l.jsx)("div",{className:"authors",title:c,children:c}),Object(l.jsx)("input",{type:"text",className:"memo",value:o,onChange:function(e){t.onMemoChange(t.book.id,e.target.value)}}),Object(l.jsx)("div",{className:"delete-row",onClick:function(){t.onDelete(t.book.id)},children:"\u524a\u9664"})]})},b=n(9),d=n.n(b),m=function(t){var e=t.description,n=e.title,c=e.author,o=e.thumbnail;return Object(l.jsxs)("div",{className:"book-search-item",children:[Object(l.jsx)("h2",{title:n,children:n}),Object(l.jsx)("div",{className:"authors",title:c,children:c}),o?Object(l.jsx)("img",{src:o,alt:""}):null,Object(l.jsx)("div",{className:"add-book",onClick:function(){t.onBookAdd(t.description)},children:Object(l.jsx)("span",{children:"+"})})]})};var h=function(t){var e=Object(c.useState)([]),n=Object(u.a)(e,2),o=n[0],a=n[1],i=Object(c.useState)(""),s=Object(u.a)(i,2),r=s[0],j=s[1],b=Object(c.useState)(""),d=Object(u.a)(b,2),h=d[0],O=d[1],f=Object(c.useState)(!1),v=Object(u.a)(f,2),p=v[0],x=v[1];Object(c.useEffect)((function(){if(p){var e=function(t,e,n){var c=[];return t&&c.push("intitle:".concat(t)),e&&c.push("inauthor:".concat(e)),"https://www.googleapis.com/books/v1/volumes?q="+c.join("+")+"&maxResults=".concat(n)}(r,h,t.maxResults);fetch(e).then((function(t){return t.json()})).then((function(t){return function(t){return t.items.map((function(t){var e=t.volumeInfo;return{title:e.title,author:e.authours?e.authors.join(","):"",thumbnail:e.imageLinks?e.imageLinks.smallThumbnail:""}}))}(t)})).then((function(t){a(t)})).catch((function(t){console.log(t)}))}x(!1)}),[p]);var g=o.map((function(e,n){return Object(l.jsx)(m,{description:e,onBookAdd:function(e){return n=e,void t.onBookAdd(n);var n}},n)}));return Object(l.jsxs)("div",{className:"dialog",children:[Object(l.jsxs)("div",{className:"operation",children:[Object(l.jsxs)("div",{className:"conditions",children:[Object(l.jsx)("input",{type:"text",onChange:function(t){j(t.target.value)},placeholder:"\u30bf\u30a4\u30c8\u30eb\u691c\u7d22"}),Object(l.jsx)("input",{type:"text",onChange:function(t){O(t.target.value)},placeholder:"\u4f5c\u8005\u540d\u691c\u7d22"})]}),Object(l.jsx)("div",{className:"button-like",onClick:function(){r||h?x(!0):alert("\u6761\u4ef6\u3092\u8a18\u5165\u3057\u3066\u304f\u3060\u3055\u3044")},children:"\u691c\u7d22"})]}),Object(l.jsx)("div",{className:"search-results",children:g})]})};d.a.setAppElement("#root");var O={overlay:{backgroundColor:"rgba(0, 0, 0, 0.8)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",padding:0,transform:"translate(-50%, -50%)"}},f="apikey",v=function(){var t=Object(c.useState)([]),e=Object(u.a)(t,2),n=e[0],o=e[1],a=Object(c.useState)(!1),i=Object(u.a)(a,2),b=i[0],m=i[1];Object(c.useEffect)((function(){var t=localStorage.getItem(f);t&&o(JSON.parse(t))}),[]),Object(c.useEffect)((function(){localStorage.setItem(f,JSON.stringify(n))}),[n]);var v=n.map((function(t){return Object(l.jsx)(j,{book:t,onDelete:function(t){return function(t){var e=n.filter((function(e){return e.id!==t}));o(e)}(t)},onMemoChange:function(t,e){return function(t,e){var c=n.map((function(n){return n.id===t?Object(r.a)(Object(r.a)({},n),{},{memo:e}):n}));o(c)}(t,e)}},t.id)}));return Object(l.jsxs)("div",{className:"A pp",children:[Object(l.jsx)("section",{className:"nav",children:Object(l.jsx)("div",{className:"button-like",onClick:function(){m(!0)},children:"\u672c\u3092\u8ffd\u52a0"})}),Object(l.jsx)("section",{className:"main",children:v}),Object(l.jsx)(d.a,{isOpen:b,onRequestClose:function(){m(!1)},style:O,children:Object(l.jsx)(h,{maxResults:20,onBookAdd:function(t){return function(t){var e=Object(r.a)(Object(r.a)({},t),{},{id:Date.now(),memo:""}),c=[].concat(Object(s.a)(n),[e]);o(c),m(!1)}(t)}})})]})};i.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.6843f30c.chunk.js.map